require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["packgeA/PersonalCenter/PersonalCenter"],{7650:function(t,i,e){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={components:{navTab:function(){e.e("components/nav-tab").then(function(){return resolve(e("804f"))}.bind(null,e)).catch(e.oe)},dynamicInformation:function(){Promise.all([e.e("common/vendor"),e.e("components/dynamicInformation")]).then(function(){return resolve(e("a7ea"))}.bind(null,e)).catch(e.oe)},arctan:function(){e.e("components/arctan").then(function(){return resolve(e("1a9d"))}.bind(null,e)).catch(e.oe)},caseList:function(){Promise.all([e.e("common/vendor"),e.e("components/case-list/case-list")]).then(function(){return resolve(e("ff8f"))}.bind(null,e)).catch(e.oe)}},data:function(){return{showworksList:!1,reFresh:"",tabHeight:0,comHeight:0,swiperheight:0,searchwhich:0,activeIndex:0,list1:[{name:"作品"},{name:"文章"},{name:"短视频"},{name:"动态"}],informationlist:[],pages:1,limit:20,pageWorks:1,worksList:[],showlist:!1,bodylist:[],showbodylist:!0,i:0,whichone:null,birthday:"",refresherTriggered:!1,_refresherTriggered:!1,durations:500,showtoast:!1,urloption:""}},onLoad:function(t){this.getHeight(),this.urloption=t},onShow:function(t){this.pages=1,this.bodylist=[],this.showtoast=!1,this.getlist()},mounted:function(){this.getComHeight()},onReachBottom:function(){var t=this;0===this.activeIndex?(this.pageWorks++,this.$nextTick((function(){t.getWorksList()}))):(this.pages++,1==this.whichone&&this.getarticle(this.whichone))},methods:{refresherrefresh:function(){var t=document.documentElement.scrollTop||document.body.scrollTop,i=setInterval((function(){document.body.scrollTop=document.documentElement.scrollTop=t-=50,t<=0&&clearInterval(i)}),10);this._refresherTriggered||(this._refresherTriggered=!0,this.refresherTriggered||(this.refresherTriggered=!0),this.loadStoreData())},refresherrestore:function(){this.refresherTriggered=!1,this._refresherTriggered=!1},loadStoreData:function(){this.bodylist=[],this.pages=1,this.showtoast=!1,this.getarticle(this.whichone)},howold:function(){var t=new Date,i=new Date(this.informationlist.birthday),e=t.getFullYear(),n=i.getFullYear(),o=t.getMonth(),s=i.getMonth(),r=t.getDate(),a=i.getDate(),h=Number(e)-Number(n);(Number(s)>Number(o)||Number(s)==Number(o)&&Number(r)>Number(a))&&h--,this.birthday=h},getHeight:function(){var i=this;t.getSystemInfo({success:function(t){var e=t.windowHeight-15;i.swiperheight=e}})},getComHeight:function(){var i=this,e=t.createSelectorQuery().in(this);e.select(".nav-tab").boundingClientRect((function(t){i.navHeight=t.height})).exec(),this.comHeight=this.swiperheight},getWorksList:function(){var t=this;this.$axios({url:this.$url[100],data:{page:this.pageWorks,limit:this.limit,query:{uid:this.informationlist.id}}}).then((function(i){0==i.code&&(i.data.data.forEach((function(i){t.worksList.push(i)})),t.showworksList=!0)}))},getarticle:function(i){var e=this;this.$axios({url:this.$url[48],data:{page:this.pages,limit:this.limit,query:{type:i,uid:this.informationlist.id}}}).then((function(i){0==i.code&&(e.showtoast&&t.showToast({title:"已显示全部",icon:"none"}),i.data.data.length<e.limit&&(e.showtoast=!0),i.data.data.forEach((function(t){e.bodylist.push(t)})),e.refresherTriggered&&(e.refresherTriggered=!1,e._refresherTriggered=!1,t.showToast({title:"刷新成功",icon:"none"})))}))},followFan:function(i){t.navigateTo({url:"/packgeA/followFans/followFans?type="+i})},gosetUp:function(){t.navigateTo({url:"/packgeA/setUp/setUp"})},gopersonalData:function(){t.navigateTo({url:"/packgeA/personalData/personalData"})},followUp:function(i){var e=this,n="";n=0==this.informationlist.follow?0:1,0!=i?this.$axios({url:this.$url[51],data:{id:this.informationlist.id,status:3,changeStatus:n}}).then((function(i){0==i.code&&(e.informationlist.follow=!0,t.showToast({title:"关注成功",icon:"none"}))})):t.showModal({title:"提示",content:"您确定取消关注么?",success:function(i){i.confirm&&e.$axios({url:e.$url[51],data:{id:e.informationlist.id,status:3,changeStatus:n}}).then((function(i){0==i.code&&(e.informationlist.follow=!1,t.showToast({title:"取消关注",icon:"none"}))}))}})},getlist:function(){var t=this;void 0==this.urloption.uid?this.$axios({url:this.$url[79]}).then((function(i){0==i.code&&(t.informationlist=i.data,t.howold(),t.whichone=1,t.getarticle(t.whichone),t.pageWorks=1,t.worksList=[],t.showworksList=!1,t.getWorksList())})):this.$axios({url:this.$url[79],data:{uid:this.urloption.uid}}).then((function(i){0==i.code&&(t.informationlist=i.data,t.howold(),t.whichone=1,t.getarticle(t.whichone),t.pageWorks=1,t.worksList=[],t.$nextTick((function(){t.getWorksList()})))}))},search:function(t){if(console.log("index",t),this.activeIndex=t,this.pages=1,this.showtoast=!1,this.bodylist=[],this.searchwhich=t,1==t){if(0==this.i)return void this.i++;this.showlist=!1,this.showbodylist=!0,this.whichone=1,this.getarticle(this.whichone)}else 2==t?(this.showlist=!1,this.searchwhich=2,this.showbodylist=!1,this.$nextTick((function(){this.showlist=!0}))):3==t&&(this.showlist=!1,this.searchwhich=0,this.showbodylist=!1,this.$nextTick((function(){this.showlist=!0})))}}};i.default=n}).call(this,e("df3c")["default"])},a6b6:function(t,i,e){"use strict";e.r(i);var n=e("dc20"),o=e("b79d");for(var s in o)["default"].indexOf(s)<0&&function(t){e.d(i,t,(function(){return o[t]}))}(s);e("e81b");var r=e("828b"),a=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);i["default"]=a.exports},b79d:function(t,i,e){"use strict";e.r(i);var n=e("7650"),o=e.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(s);i["default"]=o.a},bb28:function(t,i,e){},dc20:function(t,i,e){"use strict";e.d(i,"b",(function(){return o})),e.d(i,"c",(function(){return s})),e.d(i,"a",(function(){return n}));var n={uIcon:function(){return e.e("uview-ui/components/u-icon/u-icon").then(e.bind(null,"203b"))}},o=function(){var t=this,i=t.$createElement,e=(t._self._c,t.informationlist?t.common.imgUrl("/static/images/bc.png"):null),n=t.informationlist?t.common.imgUrl(t.informationlist.avatar_url):null,o=t.informationlist?t.common.imgUrl("/static/my/img4.png"):null,s=t.informationlist&&1==t.informationlist.gender?t.common.imgUrl("/static/images/man.png"):null,r=t.informationlist&&2==t.informationlist.gender?t.common.imgUrl("/static/images/woman.png"):null,a=t.informationlist&&0!=t.informationlist.oneself?t.common.imgUrl("/static/images/gear.png"):null;t.$mp.data=Object.assign({},{$root:{g0:e,g1:n,g2:o,g3:s,g4:r,g5:a}})},s=[]},e81b:function(t,i,e){"use strict";var n=e("bb28"),o=e.n(n);o.a},faf5:function(t,i,e){"use strict";(function(t,i){var n=e("47a9");e("6103");n(e("3240"));var o=n(e("a6b6"));t.__webpack_require_UNI_MP_PLUGIN__=e,i(o.default)}).call(this,e("3223")["default"],e("df3c")["createPage"])}},[["faf5","common/runtime","common/vendor"]]]);