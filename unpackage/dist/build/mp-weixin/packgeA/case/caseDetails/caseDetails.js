require('../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["packgeA/case/caseDetails/caseDetails"],{"42dc":function(t,e,i){"use strict";i.r(e);var n=i("7825"),o=i("8332");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("c2d1");var s=i("828b"),l=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"4088c3da",null,!1,n["a"],void 0);e["default"]=l.exports},"57ce":function(t,e,i){"use strict";(function(t,e){var n=i("47a9");i("6103");n(i("3240"));var o=n(i("42dc"));t.__webpack_require_UNI_MP_PLUGIN__=i,e(o.default)}).call(this,i("3223")["default"],i("df3c")["createPage"])},"774d":function(t,e,i){"use strict";(function(t){var n=i("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("7ca3")),a=i("8a71"),s=i("babc");function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}var c={components:{assess:function(){i.e("packgeA/components/assess").then(function(){return resolve(i("c442"))}.bind(null,i)).catch(i.oe)},share:function(){i.e("components/share/share").then(function(){return resolve(i("39dc"))}.bind(null,i)).catch(i.oe)},QrcodePoster:function(){Promise.all([i.e("common/vendor"),i.e("components/zhangyu-qrcode-poster/zhangyu-qrcode-poster")]).then(function(){return resolve(i("7d0a"))}.bind(null,i)).catch(i.oe)}},data:function(){return{space:t.upx2px(-10),QrcodePoster:!1,status:["jpg"],sex:[this.common.imgUrl("/static/case/boy.png"),this.common.imgUrl("/static/case/girl.png")],shows:!0,showss:!0,id:0,uid:0,contentH:0,scrollTop:0,follow:!1,title:"",nickname:"",content:[],ctime:"",collection:0,collection_status:!1,like_status:!1,like:0,comment_count:0,release:"",assessList:[],show:!1,focus:!1,comment_id:0,user_state:!0,shareData:{},instructions:"",imageList:[],imgStatus:!0,detail:{avatar:"",label:[],comment:[]},type:"",typetitle:"",showbutton:!0,informationlist:"",is_show_model:!0,urloption:"",isLogin:!1}},onLoad:function(t){this.urloption=t,this.type=this.urloption.type,this.id=parseInt(t.id),this.initdata(),this.getpeople()},onShow:function(){var t=this;(0,s.verifyLogin)().then((function(e){0==e.code?t.isLogin=!0:t.isLogin=!1}))},mounted:function(){},onUnload:function(){""!=this.$store.state.page&&(t.reLaunch({url:"/pages/my/my"}),this.$store.commit("changepage",""))},onNavigationBarButtonTap:function(t){0==t.index&&(this.show=!0)},onShareAppMessage:function(t){return{title:this.detail.title,imageUrl:this.detail.file?this.common.imgUrl(this.detail.file[0]):"",path:"/packgeA/case/caseDetails/caseDetails?id="+this.detail.id}},onShareTimeline:function(){return{title:this.detail.title,imageUrl:this.detail.file?this.common.imgUrl(this.detail.file[0]):"",path:"/packgeA/case/caseDetails/caseDetails?id="+this.detail.id}},methods:{showQrcodePoster:function(){this.QrcodePoster=!1},sharefriend:function(){this.is_show_model=!1,this.QrcodePoster=!0},getUrl:function(){t.navigateTo({url:"/packgeA/curriculumDetails/curriculumDetails?id="+this.detail.cid+"&communicationId="+this.detail.id})},deleteId:function(){var e=this;t.showModal({title:"提示",content:"您确定删除该动态吗?",success:function(i){i.confirm&&e.$axios({url:e.$url[52],data:{id:e.detail.id}}).then((function(e){0==e.code&&(t.showToast({title:"删除成功",icon:"none"}),setTimeout((function(){t.reLaunch({url:"/pages/case/case"})}),1e3))}))}})},getpeople:function(){var t=this;this.$axios({url:this.$url[79]}).then((function(e){0==e.code&&(t.informationlist=e.data)}))},gocenter:function(e){this.isLogin?t.navigateTo({url:"/packgeA/PersonalCenter/PersonalCenter?uid="+e.uid}):(t.showToast({icon:"none",title:"请登录",position:"bottom"}),setTimeout((function(e){t.reLaunch({url:"/packgeA/login/login"})}),1e3))},tofollow:function(e){var i=this;this.isLogin?1==e?t.showModal({title:"提示",content:"您确定取消关注么?",success:function(n){n.confirm&&i.$axios({url:i.$url[51],data:{id:i.detail.user.id,status:3,changeStatus:e}}).then((function(e){0==e.code&&(i.detail.follow=!1,t.showToast({title:"取消关注",icon:"none"}))}))}}):this.$axios({url:this.$url[51],data:{id:this.detail.user.id,status:3,changeStatus:e}}).then((function(e){0==e.code&&(i.detail.follow=!0,t.showToast({title:"关注成功",icon:"none"}))})):(t.showToast({icon:"none",title:"请登录",position:"bottom"}),setTimeout((function(e){t.reLaunch({url:"/packgeA/login/login"})}),1e3))},jumpCase:function(e){t.navigateTo({url:"/packgeA/case/circleDetails?id="+e})},feedPack:function(e){t.navigateTo({url:"/pages/me/feedback/feedback?title="+e})},details:function(e){0==e.is_anonymous?t.navigateTo({url:"/pages/others-core/others-core?uid="+e.user.id}):console.log(e.is_anonymous)},refresh:function(){this.initdata()},previewImage:function(e){var i=this;console.log(this.detail.file);var n=[];this.detail.file.forEach((function(t){n.push(i.common.imgUrl(t))})),t.previewImage({current:e,urls:n})},hide:function(t){this.show=t},tospecial:function(e){t.navigateTo({url:"/packgeA/case/topicDetails?id="+e})},focesEve:function(){this.comment_id=0,this.detail.comment_id=0},initdata:function(){var e=this;t.showLoading({title:"加载中"}),this.$axios({url:this.$url[49],data:{id:this.id}}).then((function(i){if(0==i.code){e.detail=i.data,e.comment_id=e.detail.id;var n=e.detail.file.map((function(t){var e=t.lastIndexOf("."),i=t.substring(e+1,t.length);return i}));"png"==n[0]||"jpg"==n[0]||"jpeg"==n[0]||"gif"==n[0]||"img"==n[0]?e.status=!0:e.status=!1,t.hideLoading()}})).catch((function(e){t.hideLoading()}));try{var i=t.getSystemInfoSync();this.contentH=i.windowHeight-t.upx2px(98)}catch(n){}},anchorPoint:function(){var e=this,i=t.createSelectorQuery().in(this),n=i.select(".assess-wrap");n.fields({rect:!0,size:!0},(function(t){e.scrollTop=t.height+t.top})).exec()},changeCollection:function(){var e=this;this.collection_status?this.showss=!1:this.showss=!0;var i=0;this.detail.collection_status&&(i=1),this.$axios({url:this.$url[51],data:{id:this.id,type:a.TYPE.COMMUNICATION,status:a.STATUS.COLLECTION,changeStatus:i}}).then((function(i){0==i.code&&(e.detail.collection_status?(t.showToast({title:"取消收藏",icon:"none"}),e.detail.collection--):(t.showToast({title:"收藏成功",icon:"none"}),e.detail.collection++),e.detail.collection_status=!e.detail.collection_status)}))},changeLike:function(){var e=this;console.log(this.detail.like_status),this.detail.like_status?this.shows=!1:this.shows=!0;var i=0;this.detail.like_status&&(i=1),this.$axios({url:this.$url[51],data:{id:this.detail.id,type:a.TYPE.COMMUNICATION,status:a.STATUS.LIKE,changeStatus:i}}).then((function(i){0==i.code&&(e.detail.like_status?(t.showToast({title:"取消点赞",icon:"none"}),e.detail.like--):(t.showToast({title:"点赞成功",icon:"none"}),e.detail.like++),e.detail.like_status=!e.detail.like_status)}))},chat:function(){t.navigateTo({url:"/pages/chat/chat?id="+this.detail.uid+"&type=1&name="+this.detail.user.nick})},getRelease:function(){var e=this;if(this.isLogin)if(this.focus=!1,this.release){1,this.$axios({url:this.$url[53],data:{id:this.id,type:1,comment_id:this.comment_id,content:this.release,openId:t.getStorageSync("openId"),loginType:1}}).then((function(t){0==t.code&&(e.detail.comment_count=t.data.comment_count,e.detail.comment=[],t.data.comment.forEach((function(t,i){e.detail.comment.push(function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){(0,o.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},t))})),e.focus=!1,e.release="",setTimeout((function(){e.scrollTop=5e3*e.detail.comment.length}),100))}))}else t.showToast({title:"请填写评论内容",icon:"none"});else t.showToast({icon:"none",title:"请登录",position:"bottom"}),setTimeout((function(e){t.reLaunch({url:"/packgeA/login/login"})}),1e3)},other:function(){t.navigateTo({url:"/pages/others-core/others-core?uid="+this.detail.uid})}}};e.default=c}).call(this,i("df3c")["default"])},7825:function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={share:function(){return i.e("components/share/share").then(i.bind(null,"39dc"))}},o=function(){var t=this,e=t.$createElement,i=(t._self._c,t.detail&&(t.detail.file||t.detail.video_url)&&t.detail.video_url?t.common.imgUrl(t.detail.video_url?t.detail.video_url:""):null),n=t.detail&&(t.detail.file||t.detail.video_url)&&!t.detail.video_url?t.__map(t.detail.file,(function(e,i){var n=t.__get_orig(e),o=t.common.imgUrl(e);return{$orig:n,g1:o}})):null,o=t.detail&&(t.detail.file||t.detail.video_url)&&t.detail.user?t.common.imgUrl(t.detail.user.avatar_url):null,a=t.detail&&(t.detail.file||t.detail.video_url)&&t.detail.user&&t.informationlist.id==t.detail.user.id?t.common.imgUrl("/static/images/delete.png"):null,s=t.detail&&(t.detail.file||t.detail.video_url)?t.common.content(t.detail.instructions):null,l=t.detail&&(t.detail.file||t.detail.video_url)&&t.detail.content?t.common.content(t.detail.content):null,c=t.detail&&(t.detail.file||t.detail.video_url)?t.detail.label.length:null,r=t.detail&&(t.detail.file||t.detail.video_url)&&t.detail.course?t.common.imgUrl(t.detail.course.img):null,u=t.detail&&t.detail.comment?t.detail.comment.length:null,d=t.detail?t.detail.comment.length:null,h=t.detail&&0==d?t.common.imgUrl("/static/images/no-comment.png"):null,m=t.detail&&!t.detail.like_status?t.common.imgUrl("/static/case/blove.png"):null,f=t.detail&&t.detail.like_status?t.common.imgUrl("/static/case/blove2.png"):null,g=t.detail&&!t.detail.collection_status?t.common.imgUrl("/static/case/collection1.png"):null,p=t.detail&&t.detail.collection_status?t.common.imgUrl("/static/case/collection2.png"):null,v=t.detail?t.common.imgUrl("/static/images/eyes.png"):null;t.$mp.data=Object.assign({},{$root:{g0:i,l0:n,g2:o,g3:a,g4:s,g5:l,g6:c,g7:r,g8:u,g9:d,g10:h,g11:m,g12:f,g13:g,g14:p,g15:v}})},a=[]},8332:function(t,e,i){"use strict";i.r(e);var n=i("774d"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},c2d1:function(t,e,i){"use strict";var n=i("d3ad"),o=i.n(n);o.a},d3ad:function(t,e,i){}},[["57ce","common/runtime","common/vendor"]]]);