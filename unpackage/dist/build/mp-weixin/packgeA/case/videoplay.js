require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["packgeA/case/videoplay"],{"22a7":function(t,o,e){"use strict";(function(t){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i={components:{videoPlay:function(){e.e("packgeA/components/y-video-slide/y-video-slide").then(function(){return resolve(e("27a7"))}.bind(null,e)).catch(e.oe)}},data:function(){return{pageNum:0,limitNum:5,showmore:!0,showVideo:!1,videoData:[],urloption:"",page:0,showfollowup:!0}},onShow:function(){var t=this;0!=this.videoData.length&&(this.showfollowup=!1,this.$axios({url:this.$url[49],data:{id:this.videoData[this.page].id}}).then((function(o){console.log("res",o);for(var e=o.data,i={},n=[],u=0;u<e.comment.length;u++)i={userId:e.comment[u].id,userHead:e.comment[u].user.avatar_url,userNick:e.comment[u].user.nick,content:e.comment[u].content,time:e.comment[u].ctime,fabulousCount:e.comment[u].like,isFabulous:e.comment[u].like_status,user:e.comment[u].uid},n.push(i);var s={commentId:e.user.id,videoUrl:e.video_url,id:e.id.toString(),followup:e.follow,FollowCount:e.collection,isFollow:e.collection_status,isFabulous:e.like_status,userNick:e.user.nick,userHead:e.user.avatar_url,videoContent:e.title,fabulousCount:e.like,commentCount:e.comment.length,commentObj:{count:e.comment.length,list:n},cid:e.cid,course:e.course};t.videoData[t.page]=s,t.showfollowup=!0})))},onLoad:function(t){this.urloption=t,this.getDataList();document.body.style.overflow="hidden",document.addEventListener("touchmove",(function(t){}),!1)},beforeDestroy:function(){document.body.style.overflow="",document.removeEventListener("touchmove",(function(t){}),!1)},methods:{setpage:function(t){this.page=t},getDataList:function(t){var o=this,e="";e=void 0==t?this.urloption.id:t,this.$axios({url:this.$url[49],data:{id:e}}).then((function(t){console.log("res",t);for(var e=t.data,i={},n=[],u=0;u<e.comment.length;u++)i={userId:e.comment[u].id,userHead:e.comment[u].user.avatar_url,userNick:e.comment[u].user.nick,content:e.comment[u].content,time:e.comment[u].ctime,fabulousCount:e.comment[u].like,isFabulous:e.comment[u].like_status,user:e.comment[u].uid},n.push(i);var s={commentId:e.user.id,videoUrl:e.video_url,id:e.id.toString(),followup:e.follow,FollowCount:e.collection,isFollow:e.collection_status,isFabulous:e.like_status,userNick:e.user.nick,userHead:e.user.avatar_url,videoContent:e.title,fabulousCount:e.like,commentCount:e.comment.length,commentObj:{count:e.comment.length,list:n},cid:e.cid,course:e.course};o.videoData.push(s),console.log(o.videoData),o.$nextTick((function(){this.showVideo=!0}))}))},getMoreList:function(){var t=this,o={};o=void 0==this.urloption.uid?{type:2}:{uid:this.urloption.uid,type:2},this.$axios({url:this.$url[48],data:{page:this.pageNum,limit:this.limitNum,query:o}}).then((function(o){0==o.code&&(o.data.data.length<t.limitNum&&(t.showmore=!1),o.data.data.forEach((function(o){o.id!=t.urloption.id&&t.getDataList(o.id)})))}))},refresh:function(){this.showVideo=!1,this.pageNum++,this.getMoreList(),this.videoData.splice(0,2),console.log("video",this.videoData),0!=this.videoData.length&&this.$nextTick((function(){this.showVideo=!0}))},loadMore:function(){this.showmore?(this.pageNum++,this.getMoreList(),t.showToast({title:"请再次下滑",icon:"none"})):t.showToast({title:"视频已全部加载",icon:"none"})},fabulous:function(t,o){},follow:function(t,o){console.log(t,o)},out:function(){t.navigateBack()},commentFabulous:function(t){console.log(t)}}};o.default=i}).call(this,e("df3c")["default"])},"2e03":function(t,o,e){"use strict";e.d(o,"b",(function(){return i})),e.d(o,"c",(function(){return n})),e.d(o,"a",(function(){}));var i=function(){var t=this.$createElement,o=(this._self._c,this.showVideo?null:this.common.imgUrl("/static/images/right_black.png"));this.$mp.data=Object.assign({},{$root:{g0:o}})},n=[]},"4e9a":function(t,o,e){"use strict";(function(t,o){var i=e("47a9");e("6103");i(e("3240"));var n=i(e("cedb"));t.__webpack_require_UNI_MP_PLUGIN__=e,o(n.default)}).call(this,e("3223")["default"],e("df3c")["createPage"])},"9ba8":function(t,o,e){},a1ef:function(t,o,e){"use strict";e.r(o);var i=e("22a7"),n=e.n(i);for(var u in i)["default"].indexOf(u)<0&&function(t){e.d(o,t,(function(){return i[t]}))}(u);o["default"]=n.a},b7f3:function(t,o,e){"use strict";var i=e("9ba8"),n=e.n(i);n.a},cedb:function(t,o,e){"use strict";e.r(o);var i=e("2e03"),n=e("a1ef");for(var u in n)["default"].indexOf(u)<0&&function(t){e.d(o,t,(function(){return n[t]}))}(u);e("b7f3");var s=e("828b"),a=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);o["default"]=a.exports}},[["4e9a","common/runtime","common/vendor"]]]);