require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["packgeB/my/memberCenter"],{"03ee":function(t,e,n){"use strict";n.r(e);var i=n("ecd6"),a=n.n(i);for(var c in i)["default"].indexOf(c)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(c);e["default"]=a.a},"83b2":function(t,e,n){"use strict";n.r(e);var i=n("8fc6"),a=n("03ee");for(var c in a)["default"].indexOf(c)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(c);n("f27c");var o=n("828b"),r=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=r.exports},"8fc6":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=(t._self._c,t.vipdata?t.common.imgUrl(t.vipdata.avatar_url):null),i=t.vipdata&&t.vipdata.rank.icon?t.common.imgUrl(t.vipdata.rank.icon):null,a=t.vipdata&&t.memberShip?t.__map(t.memberShip,(function(e,n){var i=t.__get_orig(e),a=t._f("price")(e.duration);return{$orig:i,f0:a}})):null,c=t.vipdata?t.common.imgUrl("/static/images/wechat.png"):null;t._isMounted||(t.e0=function(e,n){var i=arguments[arguments.length-1].currentTarget.dataset,a=i.eventParams||i["event-params"];n=a.index;t.selectPayment=n},t.e1=function(e){t.paymentMethod=1}),t.$mp.data=Object.assign({},{$root:{g0:n,g1:i,l0:a,g2:c}})},a=[]},e1bc:function(t,e,n){},e659:function(t,e,n){"use strict";(function(t,e){var i=n("47a9");n("6103");i(n("3240"));var a=i(n("83b2"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(a.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},ecd6:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("bd40"),a={WECHAT:1,WECHAT_CH:"微信",ALIPAY:2,ALIPAY_CH:"支付宝"},c={filters:{price:function(t){return 30==t?"包月会员":90==t?"包季会员":360==t?"包年会员":void 0}},name:"memberCenter",data:function(){return{isios:!1,userTelephoneNum:"",vedioDataList:[],param:"",isChecked:0,selectPayment:0,paymentMethod:1,vipdata:"",memberShip:[],paymentList:[{id:a.WECHAT,img:"/static/wechat.png",name:a.WECHAT_CH,styles:"width:30rpx;height:30rpx"}]}},onShow:function(){var e=this;t.getSystemInfo({success:function(t){"ios"==t.platform?e.$axios({url:e.$url[103]}).then((function(t){e.isios=t.data})):e.isios=!0}})},mounted:function(){this.getVip(),this.getPrice(),this.paymentList=[{id:a.WECHAT,img:"/static/wechat.png",name:a.WECHAT_CH,styles:"width:30rpx;height:30rpx"}]},methods:{goplay:function(){var e=this;t.showLoading({title:"加载中"});var n=this.paymentList[this.paymentMethod-1].id;if(n===a.WECHAT){(0,i.WxOrder)({id:this.memberShip[this.selectPayment].id,status:0,openId:t.getStorageSync("openId")}).then((function(n){t.hideLoading(),0===n.code&&e.common.payment(n.data).then((function(t){0===t.code&&e.paymentSuccess()})).catch((function(t){}))})).catch((function(){t.hideLoading()}))}else n===a.ALIPAY?(0,i.AliOrder)({id:this.memberShip[this.selectPayment].id}).then((function(e){t.hideLoading(),document.querySelector("body").innerHTML=e.data.resp,document.forms[0].submit()})).catch((function(){t.hideLoading()})):t.hideLoading()},paymentSuccess:function(){t.showModal({title:"提示",content:"支付成功",showCancel:!1,confirmText:"关闭",success:function(e){t.reLaunch({url:"/pages/my/my"})}})},getVip:function(){var t=this;this.$axios({url:this.$url[72]}).then((function(e){0==e.code&&(t.vipdata=e.data,t.userTelephoneNum=e.data.phone.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2"))}))},getPrice:function(){var t=this;this.$axios({url:this.$url[76]}).then((function(e){0==e.code&&(t.memberShip=e.data)}))}}};e.default=c}).call(this,n("df3c")["default"])},f27c:function(t,e,n){"use strict";var i=n("e1bc"),a=n.n(i);a.a}},[["e659","common/runtime","common/vendor"]]]);