(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"24c3":function(t,n,i){"use strict";i.d(n,"b",(function(){return o})),i.d(n,"c",(function(){return a})),i.d(n,"a",(function(){return e}));var e={uSwiper:function(){return i.e("uview-ui/components/u-swiper/u-swiper").then(i.bind(null,"d66e"))},uNoticeBar:function(){return i.e("uview-ui/components/u-notice-bar/u-notice-bar").then(i.bind(null,"cf1f"))},uIcon:function(){return i.e("uview-ui/components/u-icon/u-icon").then(i.bind(null,"203b"))}},o=function(){var t=this,n=t.$createElement,i=(t._self._c,t.activityList.length),e=0!=i?t.__map(t.activityList,(function(n,i){var e=t.__get_orig(n),o=t.common.imgUrl(n.img[0]);return{$orig:e,g1:o}})):null,o=t.dynamicList.length,a=t.dynamicList?t.__map(t.dynamicList,(function(n,i){var e=t.__get_orig(n),o=t.dynamicList.length;return{$orig:e,g3:o}})):null;t.$mp.data=Object.assign({},{$root:{g0:i,l0:e,g2:o,l1:a}})},a=[]},"55f9":function(t,n,i){"use strict";var e=i("ee92"),o=i.n(e);o.a},"76b9":function(t,n,i){"use strict";i.r(n);var e=i("947b"),o=i.n(e);for(var a in e)["default"].indexOf(a)<0&&function(t){i.d(n,t,(function(){return e[t]}))}(a);n["default"]=o.a},"947b":function(t,n,i){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=i("babc"),o=i("d9a0"),a={components:{dynamicInformation:function(){Promise.all([i.e("common/vendor"),i.e("components/dynamicInformation")]).then(function(){return resolve(i("a7ea"))}.bind(null,i)).catch(i.oe)},dynamicpicture:function(){Promise.all([i.e("common/vendor"),i.e("components/dynamicpicture")]).then(function(){return resolve(i("0faf"))}.bind(null,i)).catch(i.oe)}},data:function(){return{dynamicList:[],activityList:[],bannerList:[],listb:[],hotSelling:0,bannerCategory:[],commodityList:[],categorylist:[],bottom:[],page:1,productPage:1,limit:10,productLimit:10,nomore:!1,list:[]}},onLoad:function(){var t=this;this.getBanner(),this.getList(),this.getDynamicList(),(0,e.noticeList)({page:1,limit:1}).then((function(n){t.list=n.data.map((function(t){return t.title}))}))},watch:{hotSelling:function(t,n){this.nomore=!1,this.productPage=1,this.bottomList()}},onReachBottom:function(){},onShareAppMessage:function(t){},onShareTimeline:function(){},methods:{getDynamicList:function(){var t=this;this.$axios({url:this.$url[48],data:{page:this.page,limit:this.limit,query:{ctime:"",label_id:0}}}).then((function(n){n.data.data.forEach((function(n){t.dynamicList.push(n)})),console.log("res=>",n)}))},getList:function(){var t=this;this.$axios({url:this.$url[119],data:{page:1,limit:2,query:{category_id:0}}}).then((function(n){0==n.code&&(t.activityList=n.data.data)}))},goList:function(){this.getUrl("/pagesShop/classify/index")},getUrl:function(n){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n?i?t.switchTab({url:n}):t.navigateTo({url:n}):t.showToast({title:"敬请期待",icon:"none"})},goIndex:function(){t.switchTab({url:"/pages/shop/index"})},classify:function(){t.navigateTo({url:"/pagesShop/classify/list?mode=search&value="})},clickCategory:function(n){t.navigateTo({url:"/pagesShop/classify/index?id=".concat(n)}),console.log(n)},goProduct:function(n){t.navigateTo({url:"/pagesShop/commodity/detail?id="+n})},getBanner:function(){var t=this;(0,e.bannerList)({name:"首页banner"}).then((function(n){t.bannerList=n.data.map((function(n){return n.image=t.common.imgUrl(n.img),n}))})),(0,e.bannerList)({name:"首页中部banner"}).then((function(n){t.listb=n.data.map((function(n){return n.image=t.common.imgUrl(n.img),n}))}))},bottomList:function(){var n=this;t.showLoading({title:"加载中"}),(0,o.listJson)({page:this.productPage,limit:this.productLimit,query:{category_id:this.categorylist[this.hotSelling].id}}).then((function(i){0==i.code&&(t.hideLoading(),1==n.productPage&&(n.bottom=[]),i.data.data.length<n.productLimit&&(n.nomore=!0,0==i.data.data.length&&1==n.productPage&&t.showToast({title:"暂无更多",icon:"none"})),n.bottom=n.bottom.concat(i.data.data))})).catch((function(){t.hideLoading()}))},productList:function(){var n=this;t.showLoading({title:"加载中"}),(0,o.listJson)({page:this.page,limit:this.limit}).then((function(i){0==i.code&&(n.commodityList=i.data.data,t.hideLoading())})).catch((function(){t.hideLoading()}))},swiperClick:function(n){var i=this.bannerList;0!=i[n].rediect_url.length&&t.navigateTo({url:"/pages/webview/webview?src="+i[n].rediect_url}),console.log(i[n].rediect_url)},goActivity:function(n){t.navigateTo({url:"/packgeB/activityDetail/activityDetail?id="+n})},categoryList:function(){var t=this;(0,o.categoryList)({is_recommend:1}).then((function(n){n.data.forEach((function(n,i){if(n.children){var e=n.children.map((function(t){return t.Name=n.name,t}));t.categorylist=t.categorylist.concat(e)}void 0===t.bannerCategory[parseInt(i/6)]&&t.bannerCategory.push([]),t.bannerCategory[parseInt(i/6)].push(n)})),t.bottomList()}))}}};n.default=a}).call(this,i("df3c")["default"])},"9cdd":function(t,n,i){"use strict";(function(t,n){var e=i("47a9");i("6103");e(i("3240"));var o=e(i("d40d"));t.__webpack_require_UNI_MP_PLUGIN__=i,n(o.default)}).call(this,i("3223")["default"],i("df3c")["createPage"])},d40d:function(t,n,i){"use strict";i.r(n);var e=i("24c3"),o=i("76b9");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(n,t,(function(){return o[t]}))}(a);i("55f9");var c=i("828b"),r=Object(c["a"])(o["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],void 0);n["default"]=r.exports},ee92:function(t,n,i){}},[["9cdd","common/runtime","common/vendor"]]]);