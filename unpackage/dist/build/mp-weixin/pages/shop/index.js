(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shop/index"],{"233a":function(t,i,n){"use strict";(function(t,i){var e=n("47a9");n("6103");e(n("3240"));var o=e(n("6caf"));t.__webpack_require_UNI_MP_PLUGIN__=n,i(o.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},6343:function(t,i,n){"use strict";var e=n("de02"),o=n.n(e);o.a},"6caf":function(t,i,n){"use strict";n.r(i);var e=n("b9bd"),o=n("d424");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(i,t,(function(){return o[t]}))}(a);n("6343");var s=n("828b"),c=Object(s["a"])(o["default"],e["b"],e["c"],!1,null,"2d474d65",null,!1,e["a"],void 0);i["default"]=c.exports},b9bd:function(t,i,n){"use strict";n.d(i,"b",(function(){return o})),n.d(i,"c",(function(){return a})),n.d(i,"a",(function(){return e}));var e={uSearch:function(){return n.e("uview-ui/components/u-search/u-search").then(n.bind(null,"6c14"))},uSwiper:function(){return n.e("uview-ui/components/u-swiper/u-swiper").then(n.bind(null,"d66e"))},uIcon:function(){return n.e("uview-ui/components/u-icon/u-icon").then(n.bind(null,"203b"))},uModal:function(){return n.e("uview-ui/components/u-modal/u-modal").then(n.bind(null,"31b2"))}},o=function(){var t=this,i=t.$createElement,n=(t._self._c,t.common.imgUrl("/static/images/menu.png")),e=t.bannerLists.length,o=t.__map(t.commodityList,(function(i,n){var e=t.__get_orig(i),o=t.common.imgUrl(i.img);return{$orig:e,g2:o}})),a=t.common.imgUrl("/static/images/service.png"),s=t.common.imgUrl("/static/images/car.png"),c=t.common.content(t.noticeList.content);t.$mp.data=Object.assign({},{$root:{g0:n,g1:e,l0:o,g3:a,g4:s,g5:c}})},a=[]},c0f3:function(t,i,n){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=n("d9a0"),o=n("babc"),a={components:{},computed:{defaultAvatar:function(){return'this.src="'+this.common.imgUrl("/static/default.png")+'"'}},data:function(){return{state:!1,state1:!1,state2:!1,state3:!1,isLogin:!1,show:!1,noticeList:[],page:1,limit:10,query:{salesVolume:!0},totalCount:0,bannerLists:[],defaultAddress:[],addressText:"",searchText:"",commodityNav:[{id:0,title:"热销商品"},{id:1,title:"新品上架"}],commodityList:[],activeNav:0,isPc:!0}},onLoad:function(){this.banner("商城首页")},onShow:function(){var t=this;this.page=1,this.limit=10,this.commodityList=[],this.productList(),(0,o.verifyLogin)().then((function(i){0==i.code?(t.isLogin=!0,t.notice(),t.getCartList()):t.isLogin=!1}))},onReachBottom:function(){this.page++,this.productList()},methods:{Change1:function(){this.state2=!this.state2,this.state3=!this.state3,console.log(this.state)},Change:function(){this.state=!this.state,this.state1=!this.state1,console.log(this.state)},imgerror:function(t){this.commodityList[t].img=this.common.imgUrl("/static/images/default.png")},getUrl:function(i){i&&t.navigateTo({url:i})},getTabbar:function(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t.setStorageSync("caseIndex",n),i&&t.switchTab({url:i})},getCartList:function(){(0,e.getCartList)().then((function(i){i.data.length?t.setTabBarBadge({index:3,text:i.number}):t.removeTabBarBadge({index:3})}))},confirm:function(){var t=this;(0,o.confirmNotice)({id:this.noticeList.id}).then((function(i){setTimeout((function(){t.notice()}),500)}))},noticeSkip:function(){this.noticeList.rediect_url&&(window.location.href=this.noticeList.rediect_url)},notice:function(){},clickBanner:function(i){var n=this.bannerLists;0!=n[i].rediect_url.length&&t.navigateTo({url:"/pages/webview/webview?src="+n[i].rediect_url})},banner:function(t){var i=this;(0,o.bannerList)({name:t}).then((function(t){i.bannerLists=t.data.map((function(t){return t.image=i.common.imgUrl(t.img),t})),console.log(i.bannerLists)}))},onreachBottom:function(){if(this.commodityList.length<this.totalCount)return this.page=this.page+1,void this.productList();t.showToast({icon:"none",title:"到底了"})},productList:function(){var i=this;t.showLoading({title:"加载中"}),(0,e.listJson)({page:this.page,limit:this.limit,query:this.query}).then((function(n){0==n.code&&(i.commodityList=i.commodityList.concat(n.data.data),i.totalCount=n.data.totalCount,t.hideLoading())})).catch((function(){t.hideLoading()}))},skip:function(i){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.isLogin||n?t.navigateTo({url:i}):(t.showToast({icon:"none",title:"请登录",position:"bottom"}),setTimeout((function(i){t.reLaunch({url:"/packgeA/login/login"})}),1e3))},navChange:function(t){this.activeNav=t.id,this.commodityList=[],this.page=1,t.id?this.query={}:this.query.salesVolume=!0,this.productList({})},address:function(t){this.defaultAddress=t.value,"市辖区"===t.value[1]?this.addressText=t.value[0]:this.addressText=t.value[1]},search:function(i){i&&t.navigateTo({url:"/pagesShop/classify/list?mode=search&value="+i})}}};i.default=a}).call(this,n("df3c")["default"])},d424:function(t,i,n){"use strict";n.r(i);var e=n("c0f3"),o=n.n(e);for(var a in e)["default"].indexOf(a)<0&&function(t){n.d(i,t,(function(){return e[t]}))}(a);i["default"]=o.a},de02:function(t,i,n){}},[["233a","common/runtime","common/vendor"]]]);