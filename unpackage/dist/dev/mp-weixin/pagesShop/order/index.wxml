<view class="main data-v-f4e34304"><view class="SelfPickupBox data-v-f4e34304" style="{{'margin:'+(is_pickup?'14rpx 0 0':'14rpx 0')+';'}}"><view class="data-v-f4e34304">是否自提商品</view><u-checkbox bind:input="__e" style="display:inline-block;" vue-id="2c3df248-1" active-color="#2f6bdd" size="35" shape="circle" value="{{is_pickup}}" data-event-opts="{{[['^input',[['__set_model',['','is_pickup','$event',[]]]]]]}}" class="data-v-f4e34304" bind:__l="__l"></u-checkbox></view><block wx:if="{{!is_pickup}}"><view class="top whiteBg addressbox data-v-f4e34304"><view data-event-opts="{{[['tap',[['skip']]]]}}" class="flex a-center j-between address data-v-f4e34304" bindtap="__e"><block wx:if="{{$root.g0!==0}}"><view class="data-v-f4e34304"><view class="flex a-center data-v-f4e34304"><block wx:if="{{address.is_default==='1'}}"><view class="default size22 data-v-f4e34304">默认</view></block><view class="color666 data-v-f4e34304">{{''+address.province+"\n\t\t\t\t\t\t\t"+(address.city==="市辖区"?"":address.city)+"\n\t\t\t\t\t\t\t"+address.district+''}}</view></view><view class="size34 detailedAddress fontWight data-v-f4e34304">{{''+address.details+''}}</view><view class="flex fontWight data-v-f4e34304"><view class="name data-v-f4e34304">{{''+address.name+''}}</view><view class="phone data-v-f4e34304">{{''+address.phone+''}}</view></view></view></block><block wx:else><view class="data-v-f4e34304">请选择地址</view></block><view class="data-v-f4e34304"><u-icon vue-id="2c3df248-2" name="arrow-right" class="data-v-f4e34304" bind:__l="__l"></u-icon></view></view></view></block><view class="PaymentOrder_box data-v-f4e34304"><view style="height:1rpx;" class="data-v-f4e34304"></view><block wx:for="{{$root.l4}}" wx:for-item="row" wx:for-index="idx" wx:key="idx"><view class="PaymentOrder data-v-f4e34304"><view class="storename data-v-f4e34304">{{''+row.$orig.name+''}}</view><block wx:if="{{row.$orig.isAdditionalPurchase}}"><view data-event-opts="{{[['tap',[['purchased',[idx]]]]]}}" class="flex j-between a-center whiteBg purchasedItem data-v-f4e34304" bindtap="__e"><view class="tips3 size26 data-v-f4e34304" style="text-align:center;width:200rpx;">享低价加购</view><view class="themeColor center size26 data-v-f4e34304">去加购<u-icon vue-id="{{'2c3df248-3-'+idx}}" name="arrow-right" color="#2f6bdd" size="28" class="data-v-f4e34304" bind:__l="__l"></u-icon></view></view></block><block wx:if="{{row.$orig.total.isFullGift}}"><view data-event-opts="{{[['tap',[['fullGift',[idx]]]]]}}" class="flex j-between a-center whiteBg purchasedItem data-v-f4e34304" bindtap="__e"><view class="tips3 size26 data-v-f4e34304">{{'享满'+row.$orig.total.modeAct+'赠品'}}</view><view class="themeColor center size26 data-v-f4e34304">{{''+(row.g1>0?"已添加":"选赠品")+''}}<u-icon vue-id="{{'2c3df248-4-'+idx}}" name="arrow-right" color="#2f6bdd" size="28" class="data-v-f4e34304" bind:__l="__l"></u-icon></view></view></block><view class="content data-v-f4e34304"><block wx:for="{{row.l1}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['skip',[!isSeparate?item.$orig.product.id:item.$orig.product_id]]]]]}}" class="commodityInfo whiteBg data-v-f4e34304" bindtap="__e"><view class="flex j-between data-v-f4e34304"><u-image class="img data-v-f4e34304" vue-id="{{'2c3df248-5-'+idx+'-'+index}}" width="160rpx" height="160rpx" src="{{item.g2}}" bind:__l="__l"></u-image><view class="flex flex-column j-between title data-v-f4e34304"><view class="fontWight ellipsis2 data-v-f4e34304">{{''+item.$orig.product.name+''}}</view><view class="size24 color999 ellipsis2 describe data-v-f4e34304">{{''+item.m0+''}}</view></view><view class="flex1 data-v-f4e34304"><view class="size32 themeColor flex j-end data-v-f4e34304">{{"￥"+item.$orig.specificationsStatus.price}}</view><view class="size24 flex j-end color666 data-v-f4e34304">{{'x'+item.$orig.number+''}}</view></view></view><block wx:if="{{item.g3}}"><view class="giftItem data-v-f4e34304">赠品</view></block><block wx:for="{{item.l0}}" wx:for-item="j" wx:for-index="i" wx:key="i"><view class="flex j-between giftItem data-v-f4e34304"><u-image class="img data-v-f4e34304" vue-id="{{'2c3df248-6-'+idx+'-'+index+'-'+i}}" width="160rpx" height="160rpx" src="{{j.g4}}" bind:__l="__l"></u-image><view class="flex flex-column j-between title data-v-f4e34304"><view class="fontWight ellipsis2 data-v-f4e34304">{{''+j.$orig.name+''}}</view><view class="size24 color999 ellipsis2 describe data-v-f4e34304">{{''+j.g5+''}}</view></view><view class="flex1 data-v-f4e34304"><view class="size24 flex j-end color666 data-v-f4e34304">{{'x'+j.$orig.number*(item.$orig.number/item.$orig.product.min_count)+''}}</view></view></view></block></view></block></view><block wx:if="{{row.g6}}"><view class="content continueShopping whiteBg data-v-f4e34304"><view class="size28 fontWight title data-v-f4e34304">加购商品</view><block wx:for="{{row.l2}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['skip',['$0'],[[['purchaseInfo','',idx],['additionalPurchaseList','',index,'product_id']]]]]]]}}" class="commodityInfo whiteBg data-v-f4e34304" bindtap="__e"><view class="flex j-between data-v-f4e34304"><u-image class="img data-v-f4e34304" vue-id="{{'2c3df248-7-'+idx+'-'+index}}" width="160rpx" height="160rpx" src="{{item.g7}}" bind:__l="__l"></u-image><view class="flex flex-column j-between title data-v-f4e34304"><view class="fontWight ellipsis2 data-v-f4e34304">{{''+item.$orig.product.name+''}}</view><view class="size24 color999 ellipsis2 describe data-v-f4e34304">{{''+item.m1+''}}</view></view><view class="flex1 data-v-f4e34304"><view class="size32 themeColor flex j-end data-v-f4e34304">{{"￥"+item.$orig.specificationsStatus.price}}</view><view class="size24 flex j-end color666 data-v-f4e34304">{{'x'+item.$orig.number+''}}</view></view></view></view></block></view></block><block wx:if="{{row.g8}}"><view class="content continueShopping whiteBg data-v-f4e34304"><view class="size28 fontWight title data-v-f4e34304">满赠商品</view><block wx:for="{{row.l3}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['skip',['$0'],[[['purchaseInfo','',idx],['fullGiftList','',index,'product_id']]]]]]]}}" class="commodityInfo whiteBg data-v-f4e34304" bindtap="__e"><view class="flex j-between data-v-f4e34304"><u-image class="img data-v-f4e34304" vue-id="{{'2c3df248-8-'+idx+'-'+index}}" width="160rpx" height="160rpx" src="{{item.g9}}" bind:__l="__l"></u-image><view class="flex flex-column j-between title data-v-f4e34304"><view class="fontWight ellipsis2 data-v-f4e34304">{{''+item.$orig.product.name+''}}</view><view class="size24 color999 ellipsis2 describe data-v-f4e34304">{{''+item.m2+''}}</view></view><view class="flex1 data-v-f4e34304"><view class="size24 flex j-end color666 data-v-f4e34304">{{'x'+item.$orig.number+''}}</view></view></view></view></block></view></block><view class="flex flex-column j-around orderInfo data-v-f4e34304"><block wx:if="{{!is_pickup}}"><view class="flex j-between orderItem orderremarks data-v-f4e34304"><view class="fontWight lable data-v-f4e34304">配送方式</view><view class="flex1 flex j-end data-v-f4e34304"><view class="color999 tips1 data-v-f4e34304">{{"普通快递 -\n\t\t\t\t\t\t\t\t"+(row.$orig.total.postage*100+row.$orig.total.postage_amount*100>0?'￥'+row.g10:'免邮')+''}}</view></view></view></block><view class="flex j-between a-center orderItem orderremarks data-v-f4e34304"><view class="fontWight data-v-f4e34304">订单备注</view><view class="remarks data-v-f4e34304"><u-input bind:input="__e" vue-id="{{'2c3df248-9-'+idx}}" placeholder="选填 请和商家协调一致" value="{{row.$orig.remarks}}" data-event-opts="{{[['^input',[['__set_model',['$0','remarks','$event',[]],[[['purchaseInfo','',idx]]]]]]]}}" class="data-v-f4e34304" bind:__l="__l"></u-input></view></view></view><view data-event-opts="{{[['tap',[['discounts',['coupon',idx]]]]]}}" class="flex j-between a-center whiteBg purchasedItem data-v-f4e34304" bindtap="__e"><view class="poupon data-v-f4e34304">优惠券</view><view class="themeColor center data-v-f4e34304">{{''+(row.$orig.couponInfo&&row.$orig.couponInfo.name?row.$orig.couponInfo.name+"-￥"+row.$orig.couponInfo.price:"会员优惠")+''}}<u-icon vue-id="{{'2c3df248-10-'+idx}}" name="arrow-right" color="#2f6bdd" size="28" class="data-v-f4e34304" bind:__l="__l"></u-icon></view></view><block wx:if="{{row.$orig.total.postage||row.$orig.total.postage_amount}}"><view data-event-opts="{{[['tap',[['discounts',['postage',idx]]]]]}}" class="flex j-between a-center whiteBg purchasedItem data-v-f4e34304" bindtap="__e"><view class="poupon data-v-f4e34304">邮费券</view><view class="themeColor center data-v-f4e34304">{{''+(row.$orig.postageInfo&&row.$orig.postageInfo.name?row.$orig.postageInfo.name+"-￥"+row.$orig.postageInfo.price:"会员优惠")+''}}<u-icon vue-id="{{'2c3df248-11-'+idx}}" name="arrow-right" color="#2f6bdd" size="28" class="data-v-f4e34304" bind:__l="__l"></u-icon></view></view></block><view class="flex j-end totalPrice data-v-f4e34304"><view class="data-v-f4e34304">合计：</view><view class="themeColor size32 fontWight data-v-f4e34304">{{'￥'+row.g11+''}}</view></view></view></block><view style="height:1rpx;" class="data-v-f4e34304"></view></view><view class="PaymentDetailed data-v-f4e34304"><view class="PaymentDetailed_title data-v-f4e34304">价格明细</view><view class="flex-between data-v-f4e34304"><view class="data-v-f4e34304">商品总价</view><view class="data-v-f4e34304">{{'￥'+productTotal+''}}</view></view><view class="flex-between data-v-f4e34304"><view class="data-v-f4e34304">邮费</view><view class="data-v-f4e34304">{{'￥'+postage+''}}</view></view><view class="flex-between data-v-f4e34304"><view class="data-v-f4e34304">优惠</view><view class="orange data-v-f4e34304">{{'￥'+discount_amount+''}}</view></view><view class="flex-between data-v-f4e34304"><view class="data-v-f4e34304">合计</view><view class="data-v-f4e34304">{{'￥'+ordertotal+''}}</view></view></view><view class="flex j-between whiteBg payment data-v-f4e34304"><view class="paymentText data-v-f4e34304">支付方式</view><block wx:for="{{$root.l5}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" data-event-params="{{({index})}}" class="flex u-f-ac paymentItem data-v-f4e34304" bindtap="__e"><image style="{{(item.$orig.styles)}}" src="{{item.g12}}" mode class="data-v-f4e34304"></image><view class="paymentName flex-shrink data-v-f4e34304">{{item.$orig.name}}</view><view class="quan flex-center data-v-f4e34304" style="{{(payment==index?'background: #2f6bdd;':'')}}"><u-icon vue-id="{{'2c3df248-12-'+index}}" name="checkbox-mark" color="#ffffff" size="28" class="data-v-f4e34304" bind:__l="__l"></u-icon></view></view></block></view><view class="footer whiteBg flex j-between a-center data-v-f4e34304"><view class="money_box data-v-f4e34304"><view class="flex a-center size24 data-v-f4e34304"><view class="leftBox moneysize data-v-f4e34304">总计：</view><text class="rightBox themeColor fontWight size36 data-v-f4e34304">{{'￥'+ordertotal+''}}</text></view></view><block wx:if="{{isios}}"><view data-event-opts="{{[['tap',[['goPay',['$event']]]]]}}" class="pay data-v-f4e34304" bindtap="__e">提交订单</view></block></view><u-popup vue-id="2c3df248-13" mode="bottom" safe-area-inset-bottom="{{true}}" height="900rpx" closeable="{{true}}" value="{{isShowGift}}" data-event-opts="{{[['^close',[['close']]],['^input',[['__set_model',['','isShowGift','$event',[]]]]]]}}" bind:close="__e" bind:input="__e" class="data-v-f4e34304" bind:__l="__l" vue-slots="{{['default']}}"><view class="categoryList data-v-f4e34304"><view class="center giftTips data-v-f4e34304">{{'请选择赠品。 ('+(isSingle===0?"多选":"单选")+")"}}</view><block wx:for="{{giftInfo}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['giftCategory',['$0',index],[[['giftInfo','',index]]]]]]]}}" class="flex a-center data-v-f4e34304" bindtap="__e"><view class="data-v-f4e34304"><u-checkbox vue-id="{{('2c3df248-14-'+index)+','+('2c3df248-13')}}" name="{{item.id}}" active-color="#2f6bdd" size="35rpx" shape="circle" value="{{item.checked}}" data-event-opts="{{[['^change',[['pitchOn']]],['^input',[['__set_model',['$0','checked','$event',[]],[[['giftInfo','',index]]]]]]]}}" bind:change="__e" bind:input="__e" class="data-v-f4e34304" bind:__l="__l"></u-checkbox></view><view class="popupItem data-v-f4e34304"><view class="fontWight lable data-v-f4e34304">{{''+item.name+''}}</view><view class="color999 categoryType ellipsis1 data-v-f4e34304">{{''+item.content+''}}</view></view></view></block></view><view class="whiteBg bottom data-v-f4e34304"><view data-event-opts="{{[['tap',[['addCartChange',['$event']]]]]}}" class="submit center size32 data-v-f4e34304" bindtap="__e">确定</view></view></u-popup><u-popup vue-id="2c3df248-15" mode="bottom" safe-area-inset-bottom="{{true}}" height="900rpx" closeable="{{true}}" value="{{isShowGiftCategory}}" data-event-opts="{{[['^close',[['isShowGiftCategoryClose']]],['^input',[['__set_model',['','isShowGiftCategory','$event',[]]]]]]}}" bind:close="__e" bind:input="__e" class="data-v-f4e34304" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{$root.g13}}"><view class="categoryList data-v-f4e34304"><block wx:for="{{$root.l7}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="list data-v-f4e34304"><view class="lable data-v-f4e34304">{{''+item.$orig.name+''}}</view><view class="flex a-center data-v-f4e34304"><block wx:for="{{item.l6}}" wx:for-item="j" wx:for-index="idx" wx:key="idx"><block wx:if="{{j.m3}}"><view data-event-opts="{{[['tap',[['gifeChange',[index,idx,'$0'],[[['giftStockList.type','',index],['list','',idx]]]]]]]}}" class="{{['categoryType','data-v-f4e34304',giftSpecification[index]&&giftSpecification[index].index===idx?'active':'']}}" bindtap="__e"><view class="flex a-center data-v-f4e34304"><block wx:if="{{j.$orig.img}}"><view class="data-v-f4e34304"><u-image class="typeImg data-v-f4e34304" vue-id="{{('2c3df248-16-'+index+'-'+idx)+','+('2c3df248-15')}}" width="52rpx" height="52rpx" src="{{j.g14}}" bind:__l="__l"></u-image></view></block><view class="size26 content data-v-f4e34304" style="margin:5px 14px;">{{''+j.$orig.name+''}}</view></view></view></block></block></view></view></block><view class="flex a-center j-between data-v-f4e34304"><view class="data-v-f4e34304">数量</view><view class="flex a-center data-v-f4e34304"><u-number-box bind:input="__e" vue-id="{{('2c3df248-17')+','+('2c3df248-15')}}" min="{{1}}" max="{{giftInfo[giftIndex].max_count}}" disabled-input="{{true}}" value="{{giftInfo[giftIndex].number}}" data-event-opts="{{[['^input',[['__set_model',['$0','number','$event',[]],['giftInfo.'+giftIndex+'']]]]]}}" class="data-v-f4e34304" bind:__l="__l"></u-number-box></view></view></view></block><view class="whiteBg bottom data-v-f4e34304"><view data-event-opts="{{[['tap',[['isShowGiftCategoryChange',['$event']]]]]}}" class="submit center size32 data-v-f4e34304" bindtap="__e">提交</view></view></u-popup></view>