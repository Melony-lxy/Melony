<block wx:if="{{details}}"><view class="box data-v-4a63622c"><view class="title data-v-4a63622c">{{''+(details.payment_status===2?"订单已取消":details.payment_status===0?"订单未支付":details.payment_class<details.positive_class?"订单已部分支付":"订单已支付")+''}}</view><view class="curriculumDetails data-v-4a63622c"><view class="titleName data-v-4a63622c">课程信息</view><view data-event-opts="{{[['tap',[['commodityDetails',['$0'],['details.course.id']]]]]}}" class="twoBox flex data-v-4a63622c" bindtap="__e"><view class="imgBox data-v-4a63622c"><block wx:if="{{details.course}}"><image class="img data-v-4a63622c" src="{{$root.g0}}" mode="widthFix"></image></block></view><view class="rightBox data-v-4a63622c"><view class="data-v-4a63622c"><view class="lable data-v-4a63622c">{{$root.g1}}</view><view class="title data-v-4a63622c">{{details.course.name}}</view></view><view class="priceBox space-between u-f-ac data-v-4a63622c"><view class="data-v-4a63622c"><block wx:if="{{details.is_gratis==0}}"><text class="price data-v-4a63622c">{{'￥'+details.price*details.positive_class/100+''}}</text></block><block wx:else><block wx:if="{{details.is_gratis==1}}"><text class="price data-v-4a63622c">免费</text></block></block></view></view></view></view><view class="slot-content data-v-4a63622c"><view class="item space-between data-v-4a63622c"><view class="titleName data-v-4a63622c">可购买正价课节</view><view class="text data-v-4a63622c">{{"x"+details.positive_class}}</view></view><view class="item space-between data-v-4a63622c"><view class="titleName data-v-4a63622c">赠送课节</view><view class="text data-v-4a63622c">{{"x"+details.give_class}}</view></view><view class="item space-between data-v-4a63622c"><view class="titleName data-v-4a63622c">已购买正价课节</view><view class="text data-v-4a63622c">{{"x"+details.payment_class}}</view></view><view class="item space-between data-v-4a63622c"><view class="titleName data-v-4a63622c">已消耗正价课节</view><view class="text data-v-4a63622c">{{'x'+(details.positive_class>details.class_count?details.class_count:details.positive_class)+''}}</view></view><view class="item space-between data-v-4a63622c"><view class="titleName data-v-4a63622c">已消耗赠送课节</view><view class="text data-v-4a63622c">{{'x'+(details.positive_class>details.class_count?0:details.class_count-details.positive_class)+''}}</view></view><view class="item space-between data-v-4a63622c"><view class="titleName data-v-4a63622c">课节单价</view><view class="text data-v-4a63622c">{{"￥"+details.price/100}}</view></view></view></view><block wx:if="{{$root.g2>0}}"><view class="curriculumDetails data-v-4a63622c"><view class="titleName data-v-4a63622c">订单信息</view><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="slot-content data-v-4a63622c"><view class="{{['item','space-between','data-v-4a63622c',(index!=0)?'paylist':'']}}"><block wx:if="{{item.g3==1}}"><view class="titleName data-v-4a63622c">订单号</view></block><block wx:else><view class="titleName data-v-4a63622c">{{"订单号"+(index+1)}}</view></block><view class="text data-v-4a63622c">{{item.$orig.order_number}}</view></view><view class="item space-between data-v-4a63622c"><view class="titleName data-v-4a63622c">类型</view><view class="text data-v-4a63622c">{{item.$orig.type===0?"已支付":"退款"}}</view></view><view class="item space-between data-v-4a63622c"><view class="titleName data-v-4a63622c">课节数</view><view class="text data-v-4a63622c">{{item.$orig.class_count}}</view></view><view class="item space-between data-v-4a63622c"><view class="titleName data-v-4a63622c">支付金额</view><view class="text data-v-4a63622c">{{"￥"+item.$orig.price/100}}</view></view><view class="item space-between data-v-4a63622c"><view class="titleName data-v-4a63622c">支付方式</view><view class="text data-v-4a63622c">{{''+(details.payment_status===0?"线下支付":details.payment_status===1?"微信支付":"支付宝支付")+''}}</view></view><view class="{{['item','space-between','data-v-4a63622c',(index+1!=item.g4)?'lastpay':'']}}"><view class="titleName data-v-4a63622c">支付时间</view><view class="text data-v-4a63622c">{{item.$orig.payment_time}}</view></view><block wx:if="{{item.g5}}"><view class="_hr data-v-4a63622c"></view></block></view></block></view></block><view class="space-between buttonBox data-v-4a63622c"><block wx:if="{{details.type!==3&&details.is_gratis!==1&&details.payment_status===1&&details.service_refund_status==='-1'}}"><view data-event-opts="{{[['tap',[['applyAlter',['$event']]]]]}}" class="cancel data-v-4a63622c" bindtap="__e">申请退课</view></block><block wx:if="{{details.is_gratis===0&&details.payment_status===1&&details.payment_class<details.positive_class&&details.service_refund_status==='-1'}}"><view data-event-opts="{{[['tap',[['toPayment']]]]}}" class="study data-v-4a63622c" bindtap="__e">继续支付</view></block><block wx:if="{{details.payment_status===1}}"><view data-event-opts="{{[['tap',[['navGetTo']]]]}}" class="study data-v-4a63622c" bindtap="__e">立即学习</view></block><block wx:else><block wx:if="{{details.payment_status===0}}"><view data-event-opts="{{[['tap',[['toPayment']]]]}}" class="study data-v-4a63622c" bindtap="__e">立即支付</view></block></block></view><u-modal bind:input="__e" vue-id="0209645a-1" width="682rpx" title="课程支付" border-radius="{{5}}" show-confirm-button="{{false}}" title-style="{{({color:'#2D2D2D',fontSize:'32rpx',fontWeight:'bold'})}}" mask-close-able="{{true}}" value="{{paymentShow}}" data-event-opts="{{[['^input',[['__set_model',['','paymentShow','$event',[]]]]]]}}" class="data-v-4a63622c" bind:__l="__l" vue-slots="{{['default']}}"><view class="slot-content-model data-v-4a63622c"><view class="item space-between data-v-4a63622c"><view class="titleName data-v-4a63622c">可购买正价课节</view><view class="text data-v-4a63622c">{{"x"+details.positive_class}}</view></view><view class="item space-between data-v-4a63622c"><view class="titleName data-v-4a63622c">赠送课节</view><view class="text data-v-4a63622c">{{"x"+details.give_class}}</view></view><view class="item space-between data-v-4a63622c"><view class="titleName data-v-4a63622c">已购买正价课节</view><view class="text data-v-4a63622c">{{"x"+details.payment_class}}</view></view><view class="item space-between data-v-4a63622c"><view class="titleName data-v-4a63622c">课节单价</view><view class="text data-v-4a63622c">{{"￥"+details.price/100}}</view></view><block wx:if="{{details.course.class_status===1&&details.positive_class-details.payment_class>details.course.renew_class}}"><view class="item space-between data-v-4a63622c"><view class="titleName data-v-4a63622c">下单课节数</view><u-number-box vue-id="{{('0209645a-2')+','+('0209645a-1')}}" min="{{details.course.renew_class}}" max="{{details.positive_class-details.payment_class}}" disabled-input="{{true}}" step="{{1}}" value="{{payment_class}}" data-event-opts="{{[['^change',[['numberChange']]],['^input',[['__set_model',['','payment_class','$event',[]]]]]]}}" bind:change="__e" bind:input="__e" class="data-v-4a63622c" bind:__l="__l"></u-number-box></view></block><view class="item space-between data-v-4a63622c"><view class="titleName data-v-4a63622c">支付金额</view><view class="text data-v-4a63622c">{{"￥"+payment_class*details.price/100}}</view></view><view class="data-v-4a63622c"><view class="data-v-4a63622c">支付方式</view><block wx:for="{{paymentList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" data-event-params="{{({index})}}" class="flex u-f-ac paymentItem data-v-4a63622c" bindtap="__e"><image style="{{(item.styles)}}" src="{{item.img}}" mode class="data-v-4a63622c"></image><view class="paymentName flex-shrink data-v-4a63622c">{{item.name}}</view><view class="quan flex-center data-v-4a63622c" style="{{(payment==index?'background: #FF6638;':'')}}"><u-icon vue-id="{{('0209645a-3-'+index)+','+('0209645a-1')}}" name="checkbox-mark" color="#ffffff" size="28" class="data-v-4a63622c" bind:__l="__l"></u-icon></view></view></block></view></view><view style="padding:20rpx 42rpx;" class="data-v-4a63622c"><u-button vue-id="{{('0209645a-4')+','+('0209645a-1')}}" custom-style="{{({height:'80rpx',background:'#FEA406'})}}" type="success" data-event-opts="{{[['^click',[['paymentOrder']]]]}}" bind:click="__e" class="data-v-4a63622c" bind:__l="__l" vue-slots="{{['default']}}">确认支付</u-button></view></u-modal><u-modal bind:input="__e" vue-id="0209645a-5" width="682rpx" title="退课申请" border-radius="{{5}}" show-confirm-button="{{false}}" title-style="{{({color:'#2D2D2D',fontSize:'32rpx',fontWeight:'bold'})}}" mask-close-able="{{true}}" value="{{show}}" data-event-opts="{{[['^input',[['__set_model',['','show','$event',[]]]]]]}}" class="data-v-4a63622c" bind:__l="__l" vue-slots="{{['default']}}"><view class="slot-content-model data-v-4a63622c"><view class="item space-between data-v-4a63622c"><view class="titleName data-v-4a63622c">购买课节</view><view class="text data-v-4a63622c">{{"x"+details.payment_class}}</view></view><view class="item space-between data-v-4a63622c"><view class="titleName data-v-4a63622c">实收金额</view><view class="text data-v-4a63622c"><block wx:if="{{details.is_gratis==0}}"><text class="price data-v-4a63622c">{{'￥'+details.price*details.payment_class/100+''}}</text></block><block wx:else><block wx:if="{{details.is_gratis==1}}"><text class="price data-v-4a63622c">免费</text></block></block></view></view><view class="item space-between data-v-4a63622c"><view class="titleName data-v-4a63622c">已消耗课节</view><view class="text data-v-4a63622c">{{'x'+(details.positive_class>details.class_count?details.class_count:details.positive_class)+''}}</view></view><view class="item space-between data-v-4a63622c"><view class="titleName data-v-4a63622c">退费</view><view class="text data-v-4a63622c">{{"￥"+refundPrice}}</view></view></view><view style="padding:20rpx 42rpx;" class="data-v-4a63622c"><u-button vue-id="{{('0209645a-6')+','+('0209645a-5')}}" custom-style="{{({height:'80rpx',background:'#FEA406'})}}" type="success" data-event-opts="{{[['^click',[['refunds']]]]}}" bind:click="__e" class="data-v-4a63622c" bind:__l="__l" vue-slots="{{['default']}}">确认退款</u-button></view></u-modal></view></block>